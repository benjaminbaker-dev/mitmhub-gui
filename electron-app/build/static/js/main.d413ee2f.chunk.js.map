{"version":3,"sources":["title/titleComponent.jsx","App.js","api/backend_functions.js","network-grid/networkGridComponent.jsx","existing-rules/existingRuleTableComponent.jsx","rule-mgmt/ruleManagerComponent.jsx","tab-bar/tabBarComponent.jsx","requirements-installer/reqInstallComponent.jsx","os-picker/osPickerComponent.jsx","index.js"],"names":["Title","className","Component","ipcRenderer","window","require","App","JSON","parse","sendSync","this","props","history","push","withRouter","get_nodes","fetch","apiServer","get_tags","mac","req_json","method","headers","body","stringify","start_mitm","stop_mitm","NetworkGrid","state","nodes","selected_node","menu","Item","key","onClick","e","notification","open","then","resp","json","json_data","refreshNodes","catch","setState","tags","index","node","div_array","value","Array","node_data","span","overlay","trigger","bordered","style","backgroundColor","marginBottom","preventDefault","SyncOutlined","spin","_generateTagDivs","cards","gutter","rows","_generateCard","_generateRow","length","_generateGrid","size","chooseRender","type","columns","title","dataIndex","ExistingRuleTable","selectedRowKeys","data","onSelectChange","get_active_rules","rule_data","rule_index","deleted_row_index","index_to_remove","splice","rowSelection","onChange","filter_index","remove_rule","removeDeletedRule","dataSource","Option","Select","RuleManager","mac_list","rule_options","selected_rule","params","_updateSelectedNodeAndGetRuleOptions","new_state","_fetchRuleOptions","resetState","get_rule_options","select_list","rule_list","func_name","param_list","description","param","target","defaultValue","width","marginRight","showSearch","onFocus","_generateNodeOptions","_generateRuleOptions","_generateParamInput","shape","filter_name","param_dict","add_rule","TabPane","Tabs","TabBar","defaultActiveKey","tab","ReqInstaller","os","chooseWarningMessage","OsPicker","to","src","ReactDOM","render","exact","path","document","getElementById"],"mappings":"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","file":"static/js/main.d413ee2f.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport './title.css';\n\nexport default class Title extends Component {\n    render () {\n        return(\n        <div className=\"title\">\n            <strong>MITM</strong><em>hub</em>\n        </div>\n        )\n    }\n\n}","import React, { Component } from 'react';\n\nimport { withRouter } from \"react-router-dom\";\n\nimport './App.css';\n\nimport Title from './title/titleComponent';\n\n\nconst { ipcRenderer } = window.require(\"electron\");\n\nclass App extends Component {\n  componentDidMount() {\n    let response = JSON.parse(ipcRenderer.sendSync('init', 'hello, world'))\n    let are_reqs_installed = response[\"installed\"]\n\n    if(are_reqs_installed) {\n      this.props.history.push(\"/app\")\n    } else {\n      this.props.history.push(\"/setup\")\n    }\n  }\n  \n  render() {\n    return (\n      <div className=\"appContainer\">\n        <Title />\n      </div>\n    );\n  }\n}\n\nexport default withRouter(App)\n","const apiServer = \"http://localhost:9846/api\"\n\nfunction get_nodes() {\n    const url = apiServer + \"/network\"\n    return fetch(url);\n}\n\nfunction refresh_network() {\n    const url = apiServer + \"/refresh\"\n    return fetch(url)\n}\n\nfunction get_tags(mac) {\n    const url = apiServer + \"/fill_tags\"\n    const req_json = {\"node_id\": mac}\n\n    return fetch(url, {\n        method: \"POST\",\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(req_json)\n    })\n}\n\nfunction get_rule_options(mac) {\n    const url = apiServer + \"/get_rules\"\n    const req_json = {\"node_id\": mac}\n\n    return fetch(url, {\n        method: \"POST\",\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(req_json)\n    })\n}\n\nfunction add_rule(mac, filter_name, param_dict) {\n    const url = apiServer + \"/set_rule\"\n    const req_json = {\n        \"node_id\": mac,\n        \"request\": {\n            [filter_name]: param_dict\n        }\n    }\n\n    return fetch(url, {\n        method: \"POST\",\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(req_json)\n    })\n}\n\nfunction remove_rule(mac, filter_index) {\n    const url = apiServer + \"/remove_rule\"\n    const req_json = {\n        \"node_id\": mac,\n        \"request\": {\n            filter_index: filter_index\n        }\n    }\n    \n    return fetch(url, {\n        method: \"POST\",\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(req_json)\n    })\n}\n\nfunction get_active_rules(mac) {\n    const url = apiServer + \"/get_running_rules\"\n    const req_json = {\n        \"node_id\": mac,\n    }\n\n    return fetch(url, {\n        method: \"POST\",\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(req_json)\n    })\n    \n}\n\nfunction start_mitm(mac) {\n    const url = apiServer + \"/start_mitm\"\n    const req_json = {\n        \"node_id\": mac\n    }\n    \n    return fetch(url, {\n        method: \"POST\",\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(req_json)\n    })\n    \n}\n\nfunction stop_mitm(mac) {\n    const url = apiServer + \"/stop_mitm\"\n    const req_json = {\n        \"node_id\": mac\n    }\n    \n    return fetch(url, {\n        method: \"POST\",\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(req_json)\n    })\n}\n\nexport { \n    get_nodes, \n    refresh_network,\n    get_rule_options, \n    add_rule, \n    remove_rule, \n    get_active_rules, \n    get_tags, \n    start_mitm, \n    stop_mitm \n}","import React, { Component } from \"react\";\nimport { Spin, Menu, Row, Col, Card, Dropdown, Button, notification } from 'antd';\nimport { SyncOutlined } from '@ant-design/icons'\n\nimport \"./menu.css\"\nimport \"./networkGrid.css\"\nimport { get_nodes, refresh_network,  get_tags, start_mitm, stop_mitm } from \"../api/backend_functions\"\n\n\nexport default class NetworkGrid extends Component {\n    state = {\n        nodes: [],\n        selected_node: null\n    }\n\n    menu = (\n        <Menu className=\"menu\">\n            <Menu.Item key=\"0\" className=\"menu-text\"\n                onClick={e => {\n                    notification.open({ \"message\": \"Getting tags\" });\n                    get_tags(this.state.selected_node)\n                        .then(resp => resp.json())\n                        .then(json_data => {\n                            notification.open({ \"message\": json_data[\"status\"] })\n                            this.refreshNodes()\n                        })\n                        .catch(e => {\n                            notification.open({ \"message\": \"Error: \" + e })\n                            this.refreshNodes()\n                        })\n                }}>\n                get tags\n          </Menu.Item>\n            <Menu.Item key=\"1\" className=\"menu-text\"\n                onClick={e => {\n                    notification.open({ \"message\": \"Starting mitm\" })\n                    start_mitm(this.state.selected_node)\n                        .then(resp => resp.json())\n                        .then(json_data => {\n                            notification.open({ \"message\": json_data[\"status\"] })\n                            this.refreshNodes()\n                        })\n                        .catch(e => {\n                            notification.open({ \"message\": \"Error: \" + e })\n                            this.refreshNodes()\n                        })\n                }}>\n                start mitm\n          </Menu.Item>\n            <Menu.Item key=\"3\" className=\"menu-text\"\n                onClick={e => {\n                    notification.open({ \"message\": \"Stopping mitm\" })\n                    stop_mitm(this.state.selected_node)\n                        .then(resp => resp.json())\n                        .then(json_data => {\n                            notification.open({ \"message\": json_data[\"status\"] })\n                            this.refreshNodes()\n                        })\n                        .catch(e => {\n                            notification.open({ \"message\": \"Error: \" + e })\n                            this.refreshNodes()\n                        })\n                }}>\n                stop mitm\n          </Menu.Item>\n        </Menu>\n    );\n    \n    refreshNodes() {\n        get_nodes()\n            .then(resp => resp.json())\n            .then(json_data => this.setState({ nodes: json_data[\"network_nodes\"] }))\n            .catch(e => {\n                this.setState({ nodes: [] })\n            })\n    }\n\n    componentDidMount() {\n        this.refreshNodes()\n    }\n\n    _addTagsToNode(mac, tags) {\n        let nodes = this.state.nodes;\n\n        for (let index in nodes) {\n            let node = nodes[index]\n            if (node[\"mac\"] === mac) {\n                node[\"tags\"] = tags\n                this.setState({ nodes: nodes })\n                return;\n            }\n        }\n    }\n\n    _generateTagDivs(tags) {\n        let div_array = []\n        for (let key in tags) {\n            let value = tags[key]\n\n            if (value instanceof Array) {\n                value = value[0]\n            }\n\n            div_array.push(<div>{key}: {value}</div>)\n        }\n\n        return div_array\n    }\n\n    _generateCard(node_data) {\n        return (\n            <Col span={8}>\n                <Dropdown overlay={this.menu} trigger={['click']} >\n                    <Card bordered={false} style={{ backgroundColor: \"#424242\", marginBottom: \"2vh\" }}\n                        className=\"card-text\"\n                        onClick={e => { e.preventDefault(); this.setState({ selected_node: node_data[\"mac\"] }) }}>\n                        <div>\n                            <strong>{node_data[\"mac\"]} / {node_data[\"ip\"]}</strong> {node_data[\"is_mitm_running\"] && <SyncOutlined spin />}\n                        </div>\n                        <hr className=\"hrChange\" />\n                        {this._generateTagDivs(node_data[\"tags\"])}\n                    </Card>\n                </Dropdown>\n            </Col>\n        )\n    }\n\n    _generateRow(cards) {\n        return (\n            <Row gutter={16}>\n                {cards[0]}\n                {cards[1]}\n                {cards[2]}\n            </Row>\n        )\n    }\n\n\n    _generateGrid() {\n        let rows = []\n        let cards = []\n        let nodes = this.state.nodes\n\n        for (let index in nodes) {\n            cards.push(this._generateCard(nodes[index]))\n            if ((index + 1) % 3 === 0) {\n                rows.push(this._generateRow(cards))\n                cards = []\n            }\n        }\n\n        if (cards) {\n            rows.push(this._generateRow(cards))\n        }\n\n        return rows\n    }\n\n    chooseRender() {\n        if (this.state.nodes.length) {\n            return (<div>\n                        {this._generateGrid()}\n                    </div>)\n\n        } else {\n            this.refreshNodes();\n            return (<Spin size=\"large\" />)\n        }\n    }\n\n    render() {\n        return (\n            <div className=\"site-card-wrapper\">\n                {this.chooseRender()}\n                <br></br>\n                <Button \n                    type=\"primary\" \n                    size='default'\n                    onClick={e => {\n                        notification.open({\"message\": \"Refreshing network\"})\n                        refresh_network()\n                            .then(resp => resp.json())\n                            .then(json_data => {\n                                notification.open({\"message\": json_data[\"status\"]})\n                                this.refreshNodes()\n                            })\n                            .catch(e => {\n                                this.setState({ nodes: []})\n                                notification.open({\"message\": \"Error: \" + e})\n                            })\n                    }}\n                    >refresh</Button>\n            </div>\n        )\n    }\n}\n","import React, { Component } from \"react\";\nimport { Table , Button, notification} from 'antd';\n\nimport \"./existingRuleTable.css\"\nimport { get_active_rules, remove_rule } from \"../api/backend_functions\"\n\n\nconst columns = [\n  {\n    title: 'Rule Name',\n    dataIndex: 'name',\n    key: 'name',\n  },\n  {\n    title: 'Params',\n    dataIndex: 'params',\n    key: 'params',\n  }\n]\n\n\nexport default class ExistingRuleTable extends Component {\n  state = {\n    selectedRowKeys: null,\n    data: []\n  }\n\n  componentDidUpdate() {\n    get_active_rules(this.props.mac)\n      .then(resp => resp.json())\n      .then(json_data => {\n          const rule_data = json_data[\"response\"]\n          let data = []\n\n          for(let rule_index in rule_data) {\n              data.push({\n                \"key\": rule_index, \n                \"index\": rule_index,\n                \"name\": rule_data[rule_index][\"filter_name\"],\n                \"params\": JSON.stringify(rule_data[rule_index][\"filter_args\"])\n              })\n          }\n  \n          if(JSON.stringify(data) !== JSON.stringify(this.state.data)) {\n              this.setState({data: data})\n          }\n\n      })\n  }\n\n  onSelectChange = selectedRowKeys => {\n    this.setState({ selectedRowKeys });\n  };\n\n  removeDeletedRule(deleted_row_index) {\n    let data = this.state.data;\n    let index_to_remove = -1\n\n    for(let index in data) {\n      if(data[index][\"key\"] === deleted_row_index) {\n        index_to_remove = index\n        break;\n      }\n    }\n\n    if(index_to_remove) {\n      data.splice(index_to_remove, 1)\n      this.setState({data: data})\n    }\n  }\n\n  render() {\n    const rowSelection = {\n      selectedRowKeys: this.state.selectedRowKeys,\n      onChange: this.onSelectChange\n    };\n\n    return (\n      <div className=\"table-container\">\n        <Button type=\"primary\" size='large'\n        onClick={e => {\n          if(this.state.selectedRowKeys) {\n            remove_rule(this.props.mac, this.state.selectedRowKeys[0])\n              .then(resp => resp.json())\n              .then(json_data => {\n                  this.removeDeletedRule(this.state.selectedRowKeys[0])\n                  notification.open({\"message\": json_data[\"status\"]})\n            }); \n          } else {\n            notification.open({\"message\": \"Select rule to delete\"})\n          }\n          }}>Delete</Button>\n        <Table\n          rowSelection={rowSelection}\n          dataSource={this.state.data}\n          columns={columns}\n        />\n      </div>\n    )\n  }\n}\n","import React, { Component } from \"react\";\n\nimport \"./ruleManager.css\"\nimport { get_nodes, get_rule_options, add_rule } from \"../api/backend_functions\"\n\nimport { Select, Button, Input, notification, Spin } from 'antd';\nimport ExistingRuleTable from \"../existing-rules/existingRuleTableComponent\";\n\nconst { Option } = Select;\nconst defaultRule = \"Pick rule\"\n\nexport default class RuleManager extends Component {\n    state = {\n        mac_list: [],\n        selected_node: null,\n        rule_options: null,\n        selected_rule: defaultRule,\n        params: null\n    }\n\n    resetState() {\n        this.setState({\n            mac_list: [],\n            selected_node: null,\n            rule_options: null,\n            selected_rule: defaultRule,\n            params: null\n        })\n    }\n\n    refreshNodes() {\n        get_nodes()\n            .then(resp => resp.json())\n            .then(json_data => {\n                let nodes = json_data[\"network_nodes\"]\n                let mac_list = []\n\n                for (let node of nodes) {\n                    mac_list.push(node[\"mac\"])\n                }\n\n                if(JSON.stringify(this.state.mac_list) !== JSON.stringify(mac_list)) {\n                    this.setState({ mac_list: mac_list })\n                }      \n            })\n            .catch(e => {\n                this.resetState()\n            })\n    }\n    \n    componentDidMount() {\n        this.refreshNodes()\n    }\n\n    _updateSelectedNodeAndGetRuleOptions = (new_state) => {\n        this.setState(new_state, () => { this._fetchRuleOptions() })\n    }\n\n    _fetchRuleOptions() {\n        get_rule_options(this.state.selected_node)\n            .then(resp => resp.json())\n            .then(json_data => {\n                if(JSON.stringify(this.state.rule_options) !== JSON.stringify(json_data[\"response\"])) {\n                    this.setState({ rule_options: json_data[\"response\"] })\n                }\n            })\n            .catch(e => {\n                this.resetState()\n            })\n    }\n\n    _generateNodeOptions() {\n        let select_list = []\n        for (let mac of this.state.mac_list) {\n            select_list.push(<Option value={mac} className=\"menu-text\">{mac}</Option>)\n        }\n        return select_list   \n    }\n\n    _generateRuleOptions() {\n        if (this.state.selected_node && this.state.rule_options) {\n            let rule_list = []\n            for (let func_name in this.state.rule_options) {\n                rule_list.push(<Option value={func_name} className=\"menu-text\">{func_name}</Option>)\n            }\n            return rule_list\n        } else {\n            return []\n        }\n    }\n\n    _generateParamInput() {\n        if (this.state.selected_rule !== defaultRule) {\n            let param_list = []\n            const description = this.state.rule_options[this.state.selected_rule][\"param_explanation\"]\n            \n            param_list.push(\n                <div className=\"param-desc\">\n                    {description}\n                </div>\n            )\n    \n            for (let param of this.state.rule_options[this.state.selected_rule][\"filter_params\"]) {\n                param_list.push(\n                    <div>\n                        <div className=\"param-title\">{param}</div>\n                        <Input onChange={e => this.setState({ ...this.state, params: { ...this.state.params, [param]: e.target.value } })} />\n                        <br />\n                    </div>\n                )\n            }\n            return param_list\n        }\n    }\n\n    chooseRender() {\n        this.refreshNodes();\n        if (this.state.mac_list.length) {\n            return (\n                <div className=\"container\">\n                    <div className=\"subtitle\">\n                        Node and Rule\n                    </div>\n                    <Select\n                        defaultValue=\"Pick node\"\n                        style={{ width: 200, marginRight: \"1vh\" }}\n                        showSearch\n                        onFocus={e => this.refreshNodes()}\n                        onChange={e => { this._updateSelectedNodeAndGetRuleOptions({ selected_node: e, rule_options: null, selected_rule: defaultRule }) }}>\n                        {this._generateNodeOptions()}\n                    </Select>\n                    <Select\n                        style={{ width: 200 }}\n                        value={this.state.selected_rule}\n                        showSearch\n                        onFocus={e => this._fetchRuleOptions()}\n                        onChange={e => this.setState({ selected_rule: e })}>\n                        {this._generateRuleOptions()}\n                    </Select>\n                    <div className=\"subtitle\">\n                        Rule Params\n                    </div>\n                    {this._generateParamInput()}\n                    <div className=\"submit-div\">\n                        <Button type=\"primary\" shape=\"round\" size='large'\n                            onClick={e => {\n                                if (this.state.selected_rule && this.state.params) {\n                                    add_rule(this.state.selected_node, this.state.selected_rule, this.state.params)\n                                        .then(resp => resp.json())\n                                        .then(json_data => {\n                                            if(json_data[\"status\"] === \"Successfully added rule\") {\n                                                this.setState({ rule_options: {}, selected_rule: defaultRule})\n                                            }\n                                            notification.open({ \"message\": json_data[\"status\"] })\n                                        });\n                                } else {\n                                    notification.open({ \"message\": \"Please pick rule and fill params\" })\n                                }\n                            }\n                            }>add rule</Button>\n                    </div>\n                    <ExistingRuleTable mac={this.state.selected_node} />\n                </div>\n            )\n        } else {\n            return (\n                <div className=\"container\">\n                    <Spin size=\"large\" />\n                </div>\n            )\n        }\n    }\n\n    render() {\n        return this.chooseRender()\n    }\n}\n\n","import React, { Component } from \"react\";\nimport { Tabs } from 'antd';\n\nimport \"./tabBar.css\"\nimport NetworkGrid from \"../network-grid/networkGridComponent\";\nimport RuleManager from \"../rule-mgmt/ruleManagerComponent\";\n\nconst { TabPane } = Tabs;\n\nexport default class TabBar extends Component {\n    render () {\n        return(\n            <Tabs defaultActiveKey=\"1\" className=\"tabs\">\n                <TabPane tab=\"Network\" key=\"1\">\n                    <NetworkGrid/>\n                </TabPane>\n                <TabPane tab=\"Rule Management\" key=\"2\">\n                    <RuleManager/>\n                </TabPane>\n          </Tabs>\n        )\n    }\n}\n","import React, { Component } from 'react';\n\nimport { withRouter } from \"react-router-dom\";\nimport { Spin } from 'antd';\n\nimport \"./reqInstall.css\"\n\nconst { ipcRenderer } = window.require(\"electron\");\n\nclass ReqInstaller extends Component {\n    componentDidMount() {\n        let response = JSON.parse(ipcRenderer.sendSync('setup', this.props.os))\n        if (response[\"status\"] == \"Success\") {\n            this.props.history.push(\"/app\")\n        } else {\n            this.props.history.push(\"/setup\")\n        }\n    }\n\n    chooseWarningMessage() {\n        if (this.props.os == \"osx\") {\n            return \"you must have brew, python and pip installed\"\n        }\n        return \"you must have apt-get, python and pip installed\"\n    }\n\n    render() {\n        return (\n            <div className=\"install-container\">\n                <Spin size=\"large\" />\n                <span className=\"install-text\">installing requirements...</span>\n                <br />\n                <span className=\"install-warning\">{this.chooseWarningMessage()}</span>\n            </div>)\n    }\n}\n\nexport default withRouter(ReqInstaller)\n","import React, { Component } from \"react\";\nimport {  Link } from \"react-router-dom\";\nimport { Row, Col, Card } from 'antd';\n\nimport \"./osPicker.css\"\n\n\nexport default class OsPicker extends Component {\n    render () {\n        return (      \n        <div className=\"site-card-wrapper\">\n            <Row gutter={16}>\n                <Col span={12}>\n                    <Link to=\"/osx-setup\">\n                    <Card bordered={false} style={{ backgroundColor: \"#424242\"}}>\n                        <img className=\"image\" src={\"https://www.transparentpng.com/download/apple-logo/hRoKDb-apple-logo-transparent.png\"}/>\n                        <div className=\"os-title\">\n                        OSX\n                        </div>\n                    </Card>\n                    </Link>\n                </Col>\n                <Col span={12}>\n                    <Link to=\"/linux-setup\">\n                    <Card bordered={false} style={{ backgroundColor: \"#424242\"}}>\n                        <img className=\"image\" src={\"https://www.transparentpng.com/download/penguin/grap6l-penguin-hd-image.png\"}/>\n                        <div className=\"os-title\">\n                        Linux\n                        </div>\n                    </Card>\n                    </Link>\n                </Col>\n            </Row>\n        </div>)\n    }\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\n\nimport { Spin } from 'antd';\n\nimport './index.css';\n\nimport App from './App';\nimport TabBar from './tab-bar/tabBarComponent';\nimport ReqInstaller from './requirements-installer/reqInstallComponent';\nimport OsPicker from './os-picker/osPickerComponent';\n\nReactDOM.render(\n    <Router>\n    <App />\n    <div>\n      {/* A <Switch> looks through its children <Route>s and\n      renders the first one that matches the current URL. */}\n      <Switch>\n        <Route exact path=\"/\">\n          <Spin size=\"large\"></Spin>\n        </Route>\n        <Route path=\"/setup\">\n          <OsPicker />\n        </Route>\n        <Route path=\"/osx-setup\">\n          <ReqInstaller os=\"osx\" />\n        </Route>\n        <Route path=\"/linux-setup\">\n          <ReqInstaller os=\"linux\" />\n        </Route>\n        <Route path=\"/app\">\n          <TabBar />\n        </Route>\n      </Switch>\n    </div>\n    </Router>, \n    document.getElementById('root'));\n\n"],"sourceRoot":""}